{% extends "base.html" %}

{% block content %}
<h2>Chat History (All Sessions)</h2>

{% if history %}
    {% for session_id, messages in history.items() %}
        <div class="session-block">
            <h3>Session: {{ session_id }}</h3>
            <ul>
                {% for msg in messages %}
                    <li>
                        <b>{{ msg.role|capitalize }}</b> ({{ msg.time }}): 
                        {{ msg.message }}
                    </li>
                {% endfor %}
            </ul>
            <hr>
        </div>
    {% endfor %}
{% else %}
    <p>No chat history available.</p>
{% endif %}

{% endblock %}
